#!/bin/sh
set -e

# 🐳 Run lint-staged either in Docker or locally
if command -v docker >/dev/null 2>&1 && docker compose ps app >/dev/null 2>&1; then
  echo "🐳  Running lint-staged inside Docker container 'app'..."
  docker compose exec -T app npx lint-staged || {
    echo "⚠️  Fallback: running lint-staged locally (no .git inside container)"
    npx lint-staged
  }
else
  echo "⚠️  Docker or service 'app' not available, running lint-staged locally..."
  npx lint-staged
fi